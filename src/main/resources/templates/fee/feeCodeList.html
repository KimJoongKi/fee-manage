<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/header :: header" />
<body>
<form action="/fee/feeCodeInsert" method="post" name="form">
    <input type="hidden" name="name">
    <input type="hidden" name="gubun">
</form>
<div class="container">
    <div th:replace="fragments/bodyHeader :: bodyHeader" />
    <div>
        회비 구분
    </div>
    <div>
        <button class="btn btn-primary" th:attr="onclick=|apply()|">모두적용</button>
        <table class="table table-striped">
            <thead>
            <tr>
                <th>입금일자</th>
                <th>내용</th>
                <th>잔액</th>
                <th>구분</th>
                <th>비고</th>
                <th>금액</th>
                <th>코드</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="detail: ${detailList}">
                <td th:text="${#temporals.format(detail.date, 'yyyy년MM월dd일 HH시mm분ss초')}" th:name="'date'+${detailStat.index}"></td>
                <td th:text="${detail.contents}" th:name="'contents'+${detailStat.index}"></td>
                <td th:text="${#numbers.formatCurrency(detail.afterBalance)}" th:name="'afterBalance'+${detailStat.index}"></td>
                <td th:text="${detail.division}" th:name="'division'+${detailStat.index}"></td>
                <td th:text="${detail.memo}" th:name="'memo'+${detailStat.index}"></td>
                <td th:text="${#numbers.formatCurrency(detail.price)}" th:name="'price'+${detailStat.index}"></td>
                <td><input type="text">
                    <select th:name="code">
                        <option value="선택">선택</option>
                    </select>
                    <a class="btn btn-lg btn-info" th:onclick="|javascript:test('${detailStat.index}')|">적용</a>
                </td>
            </tr>
            </tbody>
        </table>
    </div>
    <div th:replace="fragments/footer :: footer" />
</div> <!-- /container -->
</body>
<script>
    function test(idx) {
        let innerText = document.getElementsByName("division" + idx)[0].innerText;
        alert(innerText);
    }
</script>
</html>
